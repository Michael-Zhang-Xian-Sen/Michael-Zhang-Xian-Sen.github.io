---
title: vue学习笔记：可复用性&组合
date: 2020-04-20 12:05:50
categories: 前端
tags: [vue, 前端]
description: 
---

## 目录
1. [混入（mixin）](#1)
2. [自定义指令](#2)
3. [渲染函数&JSX](#3)
4. [插件](#4)
5. [过滤器](#5)

## <div id="1">1. 混入</div>
Vue中使用全局变量的方案。顾名思义，混入功能可以将vue组件的一些选项如data、created、methods，置入到每一个组件中，从而被每个组件使用。混入的内容将涉及所有组件——十分混乱；混入的内容可注入到每个组件中——十分深入。

* 选项合并：解决混入时的同名选项冲突问题。
    * 数据对象：递归合并，组件优先。
    * 生命周期钩子：合并为数组，mixin中的钩子先调用。
    * 值为对象的选项：合并为同一个对象，键名冲突时组件优先（如methods中的同名方法）。
* 全局混入：即全局注册，混入的主要使用场景。
* 自定义选项合并策略（不太清楚这一块的作用。）

### 全局混入用法实践
* 将混入内容单独写到一个文件中，例如：
```javascript
const mixin = {
    data(){
        return {
            msg:"Hello~"
        }
    }
}
export default mixin
```
* 在main.js文件中引入：
```javascript
import mixin from '路径/mixin.js'
Vue.mixin(mixin)
```

## 2. <div id="2">自定义指令</div>
通过自定义指令可以更方便地控制dom的样式及行为，而不仅仅局限于v-bind、v-model、v-show等。
* 钩子函数：类似组件的生命周期。这就是钩子函数就是自定义指令的生命周期。
* 钩子函数参数：所绑定元素的DOM、包含指令属性的对象、vnode、上一个vnode。
* 对象字面量：指令函数能够接收所有合法js语句。

## 3. <div id="3">渲染函数</div>
通过render函数，可以使用js编写模版。有时直接使用template编写模版重复度会较高，而使用js编写可以简洁很多。
这一部分内容比较多，理解难度比较大，暂时没有完全吃透。

## 4. <div id="4">插件</div>
可以通过插件封装经常使用的重复代码，在一定程度上减少了冗余代码。

## 5. <div id="5">过滤器</div>
主要用来格式化数据。除了可以在组件内部使用filers属性定义局部过滤器之外，还可以使用Vue.filter()定义全局过滤器。
过滤器的声明和使用方法：https://www.cnblogs.com/yan7/p/8133897.html