---
title:  js事件总结 #文章页面上的显示名称，可以任意修改，不会出现在URL中
date: 2020-08-27 14:11:30 #文章生成时间，一般不改，当然也可以任意修改
categories: 前端 #分类
tags: [前端]  #文章标签，可空，多标签请用格式，注意:后面有个空格
---
## 事件对象
* `event.target`：一个触发事件的对象的引用， 当事件处理程序在事件的冒泡或捕获阶段被调用时。
* `event.currentTarget`：currentTarget是事件绑定的元素，即当事件遍历DOM时，标识事件的当前目标。

## 事件操作
### 新增事件
1. `target.addEventListener(type, listener, useCapture);`
2. dom对象.onXxxx

方法1相较于方法2，可以向同一对象的同一事件添加多个监听方法。

### 移除事件
1. `target.removeEventListener(type, listener[, useCapture]);`移除事件。

### 阻止事件默认行为
`event.preventDefault();`

## 事件捕获及事件冒泡
当一个事件发生在具有父元素的元素上时，现代浏览器运行两个不同的阶段 - 捕获阶段和冒泡阶段。addEventListener添加的事件，默认只会触发冒泡阶段的事件，如果需要触发捕获阶段的事件，则需要将第三个参数设置为true。

### 捕获阶段
事件触发后，从最外层祖先开始，到实际触发事件的元素，依次判断是否存在相应的事件处理程序，如果有则触发该程序。

### 冒泡阶段
事件触发后，从实际触发事件的元素开始，到最外层元素，依次判断是否存在相应的事件处理程序，如果有则触发该程序。

### 阻止捕获和冒泡阶段中当前事件的进一步传播
使用`e.stopPropagation()`。

事件捕获及事件冒泡的实例：https://jsfiddle.net/Himory/L1r4cpaf/

### 事件委托/事件代理(Event Delegation)
利用事件冒泡的特性，将应该注册在子元素上的处理事件注册在父元素上，这样点击子元素时发现子元素没有相应事件，通过冒泡到父元素进行寻找并执行。

这样做的优势有：
1. 减少DOM操作，提高性能。
2. 随时可以添加子元素，添加的子元素会自动有相应的处理事件。

事件委托的实例：https://jsfiddle.net/Himory/r5yav9fe/